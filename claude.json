{
  "version": "2.0.0",
  "description": "Optimized Claude Code CLI with lean MCP-enhanced sub-agents",
  
  "sub_agents": {
    "plan-agent": {
      "enabled": true,
      "path": "~/.claude/agents/plan-agent",
      "config_file": "~/.claude/agents/plan-agent/agent.json",
      "prompt_file": "~/.claude/agents/plan-agent/agent.md",
      "model": "claude-opus-4-1-20250805",
      "specialization": "strategic_planning_architecture"
    },
    "reader-agent": {
      "enabled": true,
      "path": "~/.claude/agents/reader-agent", 
      "config_file": "~/.claude/agents/reader-agent/agent.json",
      "prompt_file": "~/.claude/agents/reader-agent/agent.md",
      "model": "claude-haiku-3-20241201",
      "specialization": "fast_analysis_extraction"
    },
    "maker-agent": {
      "enabled": true,
      "path": "~/.claude/agents/maker-agent",
      "config_file": "~/.claude/agents/maker-agent/agent.json", 
      "prompt_file": "~/.claude/agents/maker-agent/agent.md",
      "model": "claude-sonnet-4-20250514",
      "specialization": "code_creation_implementation"
    },
    "security-agent": {
      "enabled": true,
      "path": "~/.claude/agents/security-agent",
      "config_file": "~/.claude/agents/security-agent/agent.json",
      "prompt_file": "~/.claude/agents/security-agent/agent.md", 
      "model": "claude-haiku-3-20241201",
      "specialization": "vulnerability_scanning_defensive"
    },
    "test-agent": {
      "enabled": true,
      "path": "~/.claude/agents/test-agent",
      "config_file": "~/.claude/agents/test-agent/agent.json",
      "prompt_file": "~/.claude/agents/test-agent/agent.md",
      "model": "claude-haiku-3-20241201", 
      "specialization": "testing_validation_quality"
    },
    "docs-agent": {
      "enabled": true,
      "path": "~/.claude/agents/docs-agent",
      "config_file": "~/.claude/agents/docs-agent/agent.json",
      "prompt_file": "~/.claude/agents/docs-agent/agent.md",
      "model": "claude-haiku-3-20241201",
      "specialization": "documentation_technical_writing"
    },
    "debug-agent": {
      "enabled": true,
      "path": "~/.claude/agents/debug-agent",
      "config_file": "~/.claude/agents/debug-agent/agent.json",
      "prompt_file": "~/.claude/agents/debug-agent/agent.md",
      "model": "claude-sonnet-4-20250514",
      "specialization": "systematic_debugging_analysis"
    },
    "rust-systems-expert": {
      "enabled": true,
      "path": "~/.claude/agents/rust-systems-expert",
      "config_file": "~/.claude/agents/rust-systems-expert/agent.json",
      "prompt_file": "~/.claude/agents/rust-systems-expert.md",
      "model": "claude-sonnet-4-20250514",
      "specialization": "rust_code_implementation"
    },
    "code-review-gatekeeper": {
      "enabled": true,
      "path": "~/.claude/agents/code-review-gatekeeper",
      "config_file": "~/.claude/agents/code-review-gatekeeper/agent.json",
      "prompt_file": "~/.claude/agents/code-review-gatekeeper.md",
      "model": "claude-opus-4-1-20250805",
      "specialization": "quality_enforcement_review"
    },
    "comprehensive-analyst": {
      "enabled": true,
      "path": "~/.claude/agents/comprehensive-analyst",
      "config_file": "~/.claude/agents/comprehensive-analyst/agent.json",
      "prompt_file": "~/.claude/agents/comprehensive-analyst.md",
      "model": "claude-sonnet-4-20250514",
      "specialization": "deep_analysis_investigation"
    },
    "system-architect": {
      "enabled": true,
      "path": "~/.claude/agents/system-architect",
      "config_file": "~/.claude/agents/system-architect/agent.json",
      "prompt_file": "~/.claude/agents/system-architect.md",
      "model": "claude-opus-4-1-20250805",
      "specialization": "system_design_architecture"
    },
    "devops-orchestrator": {
      "enabled": true,
      "path": "~/.claude/agents/devops-orchestrator",
      "config_file": "~/.claude/agents/devops-orchestrator/agent.json",
      "prompt_file": "~/.claude/agents/devops-orchestrator.md",
      "model": "claude-sonnet-4-20250514",
      "specialization": "infrastructure_deployment"
    },
    "technical-docs-writer": {
      "enabled": true,
      "path": "~/.claude/agents/technical-docs-writer",
      "config_file": "~/.claude/agents/technical-docs-writer/agent.json",
      "prompt_file": "~/.claude/agents/technical-docs-writer.md",
      "model": "claude-haiku-3-20241201",
      "specialization": "documentation_writing"
    },
    "product-owner": {
      "enabled": true,
      "path": "~/.claude/agents/product-owner",
      "config_file": "~/.claude/agents/product-owner/agent.json",
      "prompt_file": "~/.claude/agents/product-owner.md",
      "model": "claude-sonnet-4-20250514",
      "specialization": "product_management_planning"
    }
  }, 
  "global_settings": {
    "mcp_timeout": 15000,
    "mcp_retry_count": 2,
    "mcp_fallback_enabled": true,
    "mcp_auto_engagement": false,
    "mcp_conditional_activation": true,
    "mcp_result_caching": true,
    "log_level": "info",
    "console_output": true,
    "agent_coordination": "automatic",
    "token_monitoring": true,
    "performance_optimization": true
  },
  
  "shared_resources": {
    "base_config": "~/.claude/shared/base-config.json",
    "mcp_config": "~/.claude/shared/mcp-config.json", 
    "agent_patterns": "~/.claude/shared/agent-patterns.md",
    "hooks_directory": "~/.claude/hooks",
    "smart_mcp_hook": "~/.claude/hooks/smart-mcp.json"
  },
  
  "optimization_features": {
    "lean_agent_prompts": true,
    "consolidated_configurations": true,
    "smart_mcp_activation": true,
    "shared_pattern_library": true,
    "essential_hooks_only": true,
    "token_usage_monitoring": true,
    "performance_caching": true
  },
{
  "mcp_servers": {
    "serena": {
      "purpose": "Semantic code intelligence and symbol operations",
      "essential_tools_only": true,
      "max_context_tokens": 6000,
      "essential_operations": ["read_file", "find_symbol", "find_referencing_symbols", "replace_symbol_body", "get_symbols_overview"],
      "conditional_operations": ["search_for_pattern", "insert_after_symbol", "insert_before_symbol"],
      "triggers": ["refactor", "symbol_ops", "reference_tracking"],
      "fallback": "grep/text search"
    },
    "filesystem": {
      "purpose": "Enhanced file operations with atomic writes and large file handling",
      "essential_tools_only": true,
      "max_context_tokens": 4000,
      "essential_operations": ["read_text_file", "write_file", "list_directory", "search_files", "edit_file"],
      "conditional_operations": ["read_media_file", "create_directory", "move_file", "directory_tree"],
      "triggers": ["file_write", "atomic_update", "large_file", "directory_ops"],
      "fallback": "native Read/Write tools"
    },
    "context7": {
      "purpose": "External documentation and framework patterns",
      "essential_operations": ["resolve-library-id", "get-library-docs"],
      "triggers": ["framework_use", "library_impl", "best_practices"],
      "fallback": "cached knowledge"
    },
    "sequentialthinking": {
      "purpose": "Complex problem decomposition and systematic reasoning",
      "compress_descriptions": true,
      "max_context_tokens": 1200,
      "essential_operations": ["sequentialthinking_tools"],
      "triggers": ["complex_problem", "architecture", "systematic_debug"],
      "fallback": "native reasoning"
    }
  },
  "optimization_settings": {
    "reduce_tool_context": true,
    "essential_tools_only": true,
    "lazy_load_descriptions": true,
    "compress_tool_docs": true,
    "target_total_tokens": 12500
  },
  "usage_patterns": {
    "conditional_activation": true,
    "result_caching": true,
    "timeout": 15000,
    "retry_attempts": 2,
    "fallback_enabled": true
  }  
}
}
