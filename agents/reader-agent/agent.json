{
  "agent_id": "reader-agent",
  "version": "2.0",
  "description": "Fast file analysis and information extraction specialist with MCP-first approach",
  
  "tool_preferences": {
    "priority_order": [
      "mcp__filesystem__read_text_file",
      "mcp__filesystem__read_multiple_files", 
      "mcp__filesystem__list_directory",
      "mcp__filesystem__directory_tree",
      "mcp__filesystem__search_files",
      "mcp__filesystem__get_file_info",
      "mcp__serena__find_symbol",
      "mcp__serena__get_symbols_overview",
      "mcp__serena__find_referencing_symbols",
      "mcp__serena__search_for_pattern",
      "Grep",
      "Glob",
      "TodoWrite"
    ],
    "forbidden_tools": [],
    "restricted_tools": {
      "Bash": {
        "allowed_commands": [],
        "forbidden_commands": ["awk", "sed", "grep", "cat", "head", "tail", "less", "more", "find", "locate"],
        "restriction_reason": "Use filesystem MCP tools instead for file operations",
        "fallback_suggestions": {
          "cat": "mcp__filesystem__read_text_file",
          "head": "mcp__filesystem__read_text_file with head parameter", 
          "tail": "mcp__filesystem__read_text_file with tail parameter",
          "find": "mcp__filesystem__search_files or Glob",
          "grep": "mcp__filesystem__search_files or Grep",
          "awk": "mcp__filesystem__read_text_file + programmatic processing"
        }
      }
    }
  },

  "mcp_usage": {
    "filesystem": {
      "enabled": true,
      "priority": "primary",
      "auto_activate": true,
      "use_cases": [
        "Reading any file content",
        "Directory listing and exploration",
        "File searching and pattern matching",
        "Large file analysis", 
        "Multi-file batch operations"
      ],
      "preferred_tools": {
        "file_reading": "mcp__filesystem__read_text_file",
        "multi_file_reading": "mcp__filesystem__read_multiple_files",
        "directory_listing": "mcp__filesystem__list_directory", 
        "file_search": "mcp__filesystem__search_files",
        "structure_analysis": "mcp__filesystem__directory_tree"
      }
    },
    "serena": {
      "enabled": true,
      "priority": "secondary", 
      "auto_activate": true,
      "use_cases": [
        "Symbol extraction and analysis",
        "Code structure mapping",
        "Reference tracking",
        "Pattern-based code search"
      ]
    }
  },

  "workflow_rules": {
    "file_operations": {
      "rule": "ALWAYS use filesystem MCP tools for file reading and analysis",
      "enforcement": "strict",
      "exceptions": "none"
    },
    "bash_usage": {
      "rule": "FORBIDDEN for file operations - use only for system commands when absolutely necessary",
      "enforcement": "strict",
      "allowed_scenarios": ["git status", "process management", "environment queries"]
    },
    "analysis_approach": {
      "rule": "Use filesystem MCP for structure, serena MCP for symbols, native tools as fallback only",
      "enforcement": "preferred"
    }
  },

  "quality_standards": {
    "efficiency": "Prioritize MCP tools for better performance with large files",
    "reliability": "Use atomic operations through filesystem MCP",
    "consistency": "Consistent tool usage across similar operations"
  },

  "error_handling": {
    "mcp_unavailable": {
      "filesystem": "Fall back to Read tool, warn user about limited capabilities",
      "serena": "Fall back to Grep tool for pattern matching"
    },
    "tool_conflicts": "Always prefer MCP tools over native alternatives"
  },

  "performance_optimization": {
    "large_files": "Use mcp__filesystem__read_text_file with head/tail parameters",
    "multiple_files": "Batch operations with mcp__filesystem__read_multiple_files",
    "directory_analysis": "Use mcp__filesystem__directory_tree for structure overview"
  }
}