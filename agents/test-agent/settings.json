{
  "name": "test-agent",
  "version": "1.0.0",
  "model": "haiku",
  "description": "Testing and validation specialist",
  
  "mcp_servers": {
    "filesystem": {
      "enabled": true,
      "priority": 1,
      "timeout": 10000,
      "retry_attempts": 3,
      "config": {
        "test_discovery": true,
        "parallel_execution": true,
        "result_caching": true,
        "coverage_tracking": true
      }
    },
    "serena": {
      "enabled": true,
      "priority": 1,
      "timeout": 15000,
      "retry_attempts": 2,
      "config": {
        "coverage_analysis": true,
        "impact_analysis": true,
        "symbol_tracking": true,
        "dependency_mapping": true
      }
    }
  },
  
  "resource_limits": {
    "max_execution_time": 300000,
    "max_memory_mb": 2048,
    "max_file_size_mb": 50,
    "max_concurrent_operations": 10
  },
  
  "output_preferences": {
    "documentation_format": "markdown",
    "diagram_format": "mermaid",
    "code_style": "detailed",
    "include_examples": true,
    "verbosity": "comprehensive"
  },
  
  "testing_configuration": {
    "test_frameworks": {
      "javascript": ["jest", "mocha", "jasmine", "vitest"],
      "python": ["pytest", "unittest", "nose"],
      "go": ["testing", "testify"],
      "java": ["junit", "testng"],
      "ruby": ["rspec", "minitest"]
    },
    "test_patterns": {
      "unit": ["*.test.*", "*.spec.*", "*_test.*", "test_*.*"],
      "integration": ["*.integration.*", "*.int.*"],
      "e2e": ["*.e2e.*", "*.end2end.*"],
      "performance": ["*.perf.*", "*.benchmark.*"]
    },
    "coverage_tools": {
      "javascript": "nyc",
      "python": "coverage",
      "go": "go test -cover",
      "java": "jacoco"
    }
  },
  
  "execution_strategy": {
    "priority_order": ["smoke", "unit", "integration", "e2e", "performance"],
    "parallel_execution": {
      "unit": true,
      "integration": false,
      "e2e": false,
      "performance": false
    },
    "retry_policy": {
      "unit": 1,
      "integration": 2,
      "e2e": 3,
      "flaky_tests": 5
    },
    "timeout_ms": {
      "unit": 5000,
      "integration": 30000,
      "e2e": 60000,
      "performance": 120000
    }
  },
  
  "coverage_requirements": {
    "global": {
      "line": 80,
      "branch": 70,
      "function": 90,
      "statement": 80
    },
    "critical_paths": {
      "line": 95,
      "branch": 90,
      "function": 100,
      "statement": 95
    },
    "new_code": {
      "line": 90,
      "branch": 80,
      "function": 100,
      "statement": 90
    }
  },
  
  "quality_gates": {
    "test_results": {
      "min_pass_rate": 0.95,
      "max_failures": 10,
      "block_on_failure": ["smoke", "critical"]
    },
    "coverage": {
      "enforce_minimum": true,
      "block_on_decrease": true,
      "allow_variance": 0.02
    },
    "performance": {
      "max_degradation": 0.1,
      "baseline_comparison": true,
      "track_trends": true
    }
  },
  
  "hooks": {
    "testing-strategy": {
      "enabled": true,
      "config": {
        "methodology": "pyramid",
        "continuous_testing": true,
        "risk_based": true
      }
    },
    "test-types": {
      "enabled": true,
      "config": {
        "run_all_types": false,
        "selective_execution": true
      }
    },
    "quality-gates": {
      "enabled": true,
      "config": {
        "enforce_gates": true,
        "custom_rules": true
      }
    },
    "failure-analysis": {
      "enabled": true,
      "config": {
        "auto_categorize": true,
        "track_flaky": true,
        "root_cause_analysis": true
      }
    },
    "coverage-standards": {
      "enabled": true,
      "config": {
        "track_trends": true,
        "identify_gaps": true
      }
    },
    "test-patterns": {
      "enabled": true,
      "config": {
        "enforce_patterns": true,
        "validate_structure": true
      }
    }
  },
  
  "reporting": {
    "formats": ["console", "json", "html", "junit", "markdown"],
    "default_format": "console",
    "verbose": false,
    "include_coverage": true,
    "include_performance": true,
    "group_by": "suite",
    "show_slow_tests": true,
    "slow_threshold_ms": 1000
  },
  
  "failure_handling": {
    "capture_screenshots": true,
    "capture_logs": true,
    "stack_trace_depth": 10,
    "context_lines": 5,
    "group_similar": true,
    "auto_retry_flaky": true
  },
  
  "performance_testing": {
    "enabled": true,
    "metrics": ["response_time", "throughput", "cpu", "memory"],
    "baselines": {
      "response_time_ms": 200,
      "throughput_rps": 100,
      "cpu_percent": 70,
      "memory_mb": 512
    },
    "load_patterns": ["constant", "ramp", "spike", "stress"],
    "duration_seconds": 60
  },
  
  "ci_integration": {
    "enabled": true,
    "platforms": ["jenkins", "github-actions", "gitlab-ci", "circleci"],
    "artifacts": {
      "test_results": true,
      "coverage_reports": true,
      "performance_data": true,
      "failure_logs": true
    },
    "notifications": {
      "on_failure": true,
      "on_success": false,
      "on_regression": true
    }
  },
  
  "environment": {
    "TEST_AGENT_LOG_LEVEL": "info",
    "TEST_AGENT_CACHE_DIR": "/tmp/test-agent-cache",
    "TEST_AGENT_TEMPLATES_DIR": "~/.claude/templates/testing"
  }
}